.srghma_khmer_dict_content {
  /* --- Palette (Light Mode) --- */
  --kw-0: #005cc5;
  /* Blue */
  --kw-1: #008080;
  /* Teal */
  --kw-2: #6f42c1;
  /* Purple */
  --kw-3: #795e26;
  /* Dark Yellow/Olive */
  --kw-4: #1b5e20;
  /* Forest Green (Replaced Red) */

  --kw-unknown: #d32f2f;
  /* Red reserved for unknown */
  --kw-legacy-blue: #2563eb;

  /* Skeleton Colors */
  --kw-skeleton-bg: #e4e4e7;
  /* Zinc-200 */
  --kw-skeleton-fg: transparent;
}

/* --- Dark Mode Overrides --- */
:global(.dark) .srghma_khmer_dict_content {
  --kw-0: #569cd6;
  /* Blue */
  --kw-1: #4ec9b0;
  /* Soft Green/Teal */
  --kw-2: #c586c0;
  /* Pink/Purple */
  --kw-3: #dcdcaa;
  /* Soft Yellow */
  --kw-4: #b5cea8;
  /* Sage Green (Replaced Orange/Red) */

  --kw-unknown: #ff5555;
  /* Bright Red */
  --kw-legacy-blue: #3b82f6;

  /* Skeleton Colors Dark */
  --kw-skeleton-bg: #3f3f46;
  /* Zinc-700 */
}

/* --- Base Utility Classes --- */

/* Known Words (Semi-Bold) */
.srghma_khmer_dict_content :global(.khmer--is-in-dictionary-color-0) {
  color: var(--kw-0);
  font-weight: 500;
}

.srghma_khmer_dict_content :global(.khmer--is-in-dictionary-color-1) {
  color: var(--kw-1);
  font-weight: 500;
}

.srghma_khmer_dict_content :global(.khmer--is-in-dictionary-color-2) {
  color: var(--kw-2);
  font-weight: 500;
}

.srghma_khmer_dict_content :global(.khmer--is-in-dictionary-color-3) {
  color: var(--kw-3);
  font-weight: 500;
}

.srghma_khmer_dict_content :global(.khmer--is-in-dictionary-color-4) {
  color: var(--kw-4);
  font-weight: 500;
}

/* Segmented Words (Normal Weight) */
.srghma_khmer_dict_content :global(.khmer--without-dictionary-color-0) {
  color: var(--kw-0);
}

.srghma_khmer_dict_content :global(.khmer--without-dictionary-color-1) {
  color: var(--kw-1);
}

.srghma_khmer_dict_content :global(.khmer--without-dictionary-color-2) {
  color: var(--kw-2);
}

.srghma_khmer_dict_content :global(.khmer--without-dictionary-color-3) {
  color: var(--kw-3);
}

.srghma_khmer_dict_content :global(.khmer--without-dictionary-color-4) {
  color: var(--kw-4);
}

/* Unknown Words */
.srghma_khmer_dict_content :global(.khmer--is-not-in-dictionary) {
  color: var(--kw-unknown);
  text-decoration: underline dotted;
}

/* Legacy Blue */
.srghma_khmer_dict_content :global(.khmer--blue-lbl) {
  color: var(--kw-legacy-blue);
}

/* --- Interactivity --- */

/*
   NEW: Target spans with data-navigate-khmer-word ONLY when
   container has .interactive class
*/
.interactive :global([data-navigate-khmer-word]) {
  cursor: pointer;
  border-radius: 2px;
  transition: all 0.1s ease-in-out;
  position: relative;
  z-index: 10;
  /* Ensure it sits above parent links if nested */
}

/* Hover Effects */
.interactive :global([data-navigate-khmer-word]:hover) {
  text-decoration: underline;
  text-decoration-thickness: 1.5px;
  text-decoration-color: currentColor;
  opacity: 0.8;
  background-color: rgba(0, 0, 0, 0.06);
}

:global(.dark) .interactive :global([data-navigate-khmer-word]:hover) {
  background-color: rgba(255, 255, 255, 0.12);
}

/* Specific Override: Unknown words usually have dotted underline.
   On hover in interactive mode, make it solid to indicate clickability. */
.interactive :global(.khmer--is-not-in-dictionary:hover) {
  text-decoration-style: solid;
  background-color: rgba(211, 47, 47, 0.1);
}

/* ========================================= */
/* KH MER WORD HIDING (Flashcard Mode)       */
/* ========================================= */

/*
  Target all span elements with a class starting with 'khmer--'
  BUT exclude '.khmer--blue-lbl' (legacy blue)
  AND exclude elements that have been clicked ('.is-revealed')
*/
.hiding_enabled :global(span[class*='khmer--']:not(.khmer--blue-lbl):not(.is-revealed)) {
  color: var(--kw-skeleton-fg) !important;
  background-color: var(--kw-skeleton-bg);
  border-radius: 6px;
  user-select: none;
  /* Prevent cheating by selecting text */
  cursor: pointer;

  /* Smooth transition for revealing */
  transition:
    color 0.2s ease,
    background-color 0.2s ease,
    opacity 0.2s ease;

  /* Ensure it looks like a block/pill */
  padding-left: 2px;
  padding-right: 2px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Specific styling for hidden images */

.hiding_enabled :global(img.khmer--image:not(.is-revealed)) {
  /* show solid color block instead of image */
  filter: brightness(0);
  transition:
    color 0.2s ease,
    background-color 0.2s ease,
    opacity 0.2s ease;
}

/* Hover effect on hidden words and images to hint interactivity */
.hiding_enabled :global(span[class*='khmer--']:not(.khmer--blue-lbl):not(.is-revealed):hover),
.hiding_enabled :global(img.khmer--image:not(.is-revealed):hover) {
  background-color: var(--kw-0);
  /* Show a hint color or darker gray */
  opacity: 0.5;
}

/* ========================================= */
/* PRONUNCIATION HIDING                      */
/* ========================================= */

.hiding_pronunciations_enabled :global(.khmer--ipa:not(.is-revealed)) {
  color: var(--kw-skeleton-fg) !important;
  background-color: var(--kw-skeleton-bg);
  border-radius: 6px;
  user-select: none;
  cursor: pointer;
  transition:
    color 0.2s ease,
    background-color 0.2s ease;
  padding-left: 2px;
  padding-right: 2px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.hiding_pronunciations_enabled :global(.khmer--ipa:not(.is-revealed):hover) {
  background-color: var(--kw-0);
  opacity: 0.5;
}

/* ========================================= */
/* NON-KHMER WORD HIDING                     */
/* ========================================= */

/*
  Target spans with class .non-khmer-text
  WHEN the container has .hiding_non_khmer_enabled
  AND exclude elements that have been clicked ('.is-revealed')
*/
.hiding_non_khmer_enabled :global(.non-khmer-text:not(.is-revealed)) {
  color: var(--kw-skeleton-fg) !important;
  background-color: var(--kw-skeleton-bg);
  border-radius: 6px;
  user-select: none;
  cursor: pointer;
  transition:
    color 0.2s ease,
    background-color 0.2s ease;
  padding-left: 2px;
  padding-right: 2px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Hover effect on hidden non-khmer words */
.hiding_non_khmer_enabled :global(.non-khmer-text:not(.is-revealed):hover) {
  background-color: var(--kw-0);
  opacity: 0.5;
}